<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>番外篇：小程序</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/wx.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<style media="screen">
			ul,small{
				width: 100%;
			}
		</style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <!-- 章节 -->
                <section>
                    <h1>纪元</h1>
                    <p>
                        <ul>
                            <li>第一纪 <span class="fragment highlight-red">宇宙魔方</span> 微信</li>
                            <li>第二纪 <span class="fragment highlight-green">奥创纪元</span> 小程序</li>
                            <li>第三纪 <span class="fragment highlight-red">无限战争</span> 框架</li>
                            <li>第四纪 <span class="fragment highlight-blue">无限未来</span> 未来</li>
                        </ul>
                    </p>
                </section>
                <section>
                    <section data-markdown>
                        <script type="text-template">
                            ### 第一纪 宇宙魔方

                            # *微信*

                            - 2010年：筹划启动<!-- .element: class="fragment"-->
                            - 2011年：初版诞生<!-- .element: class="fragment"-->
                            - 2012年：用户突破1亿、2亿<!-- .element: class="fragment"-->
                            - 基础特点：通讯、交友、朋友圈<!-- .element: class="fragment"-->
                            - 服务用户生活，丰富的公众号（2012/8）<!-- .element: class="fragment"-->
                        </script>
                    </section>
                    <section>
                        <img src="img/mini-program/wx-regist.jpeg" alt="" style="width: 360px;">
                    </section>
                </section>
                <section>
                    <section data-markdown>
                        <script type="text-template">
                            ### 公众号网页

                            - 微信浏览器（x5内核）的h5网页
                            - 性能/体验差：硬件、代码、网络
                            - 原生能力缺失

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text-template">
                            ### 微信 jssdk(2015)

                            早期只是内部使用，未公开api：

                            ``` javascript
                            document.addEventListener("WeixinJSBridgeReady", function () {
                                audio.play();
                            }, false);
                            WeixinJSBridge.invoke('imagePreview', {}, function(res){ });

                            wx.xxx
                            ```
                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text-template">
                            ### h5无法完全解决

                            - 性能
                            - 体验

                        </script>
                    </section>
                </section>
                <section data-markdown>
                    <script type="text-template">
                        ### 第二纪 奥创纪元

                        # *小程序*

                        - 快速的加载<!-- .element: class="fragment"-->
                        - 更强大的能力<!-- .element: class="fragment"-->
                        - 原生的体验<!-- .element: class="fragment"-->
                        - 易用且安全的微信数据开放<!-- .element: class="fragment"-->
                        - 高效和简单的开发<!-- .element: class="fragment"-->

                    </script>
                </section>
                <section data-markdown>
                    <script type="text-template">
                        ### 不足

                        - 不能使用css预处理器（less/sass/stylus）<!-- .element: class="fragment"-->
                        - ES6/7支持不全（async/await）<!-- .element: class="fragment"-->
                        - 没有状态管理（app.js globalData, getApp()）<!-- .element: class="fragment"-->
                        - 没有自定义组件（现在已经有了）<!-- .element: class="fragment"-->
                        - 不支持npm包管理（现在已经有了）<!-- .element: class="fragment"-->
                        - 接口仍然是callback（本身支持promise）<!-- .element: class="fragment"-->
                        - 像vue又不完全像：强制分离WXSS, WXML和JS、没有双向绑定<!-- .element: class="fragment"-->
                        - 多端需求（h5, 微信, 支付宝, 百度, 头条）<!-- .element: class="fragment"-->
                        - 希望有react, vue的开发体验<!-- .element: class="fragment"-->
                    </script>
                </section>
                <section data-markdown>
                    <script type="text-template">
                        ### 第三纪 无限战争

                        # *框架*

                        - wepy<!-- .element: class="fragment"-->
                        - mpvue<!-- .element: class="fragment"-->
                        - mpx<!-- .element: class="fragment"-->
                        - taro(react, 仅此一家)<!-- .element: class="fragment"-->
                        - uni-app<!-- .element: class="fragment"-->
                        - chameleon<!-- .element: class="fragment"-->

                    </script>
                </section>
                <section data-markdown>
                    <script type="text-template">
                            ### 概览

                            - 增强式
                                > wepy、mpx
                            - 编译型
                                > mpvue、taro、uni-app、chameleon
                            - 用户规模、成功案例、周边生态
                                > Wepy、taro、uni-app > mpvue > mpx、chameleon

                    </script>
                </section>
                <section data-markdown>
                    <script type="text-template">
                        ### [wepy](https://wepyjs.github.io/wepy-docs/#/)、[mpx](https://didi.github.io/mpx/)
                        
                        - 类vue（vue子集）
                            > wepy还有自己的语法，比如repeat
                        - wepy不支持多端, mpx2.0已支持
                            > 不支持h5, app, 从wx小程序源码转换成其他的小程序, 差异抹平不够
                        - 两者已不那么有吸引力

                    </script>
                </section>

                <section>
                    <section data-markdown>
                        <script type="text-template">
                            ### [mpvue](https://github.com/Meituan-Dianping/mpvue)

                            - 修改 vue的 runtime 和 compiler
                            - vue技能树几乎全部点满
                            - 2.0开始支持支付宝、百度、头条小程序
                            - 7个月以上已无更新

                        </script>
                    </section>
                    <section data-markdown>
                        <script type="text-template">
                            ### about

                            - 小程序限制：wxml只能静态，需要预编译好
                            - 动态组件不支持：component :is
                            - 异步组件不支持：() => import
                            - inline-templte, X-Templates

                        </script>
                    </section>
                </section>
                <section data-markdown>
                    <script type="text-template">
                        ### taro

                        - 唯一一个react系
                            > 与mpvue不同，基于小程序的 Component 构造器，没有 Page
                            <!-- .element: class="fragment" -->
                        - react[技能树]几乎全部点满(https://taro-docs.jd.com/taro/docs/best-practice.html)
                            > v1.3.0-beta.0后只剩下一条：不能使用 Array#map 之外的方法操作 JSX 数组
                            <!-- .element: class="fragment" -->
                        - 多端支持广
                            > h5, 小程序, app, 快应用，统统支持
                            <!-- .element: class="fragment" -->

                    </script>
                </section>
                <section data-markdown>
                    <script type="text-template">
                        ### uni-app

                    </script>
                </section>
                <section data-markdown>
                    <script type="text-template">
                        ### chameleon

                    </script>
                </section>
            </div>
        </div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
    </body>
</html>